!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.cupidWidth=128,this.cupidHeight=80.75,this.cupidX=250,this.cupidY=20,this.dirX=0,this.dirY=0,this.health=270,this.score=0,this.imgSrc="src/images/cupid-left.png",this.drawCupid=this.drawCupid.bind(this),this.moveCupid=this.moveCupid.bind(this),this.keyDownHandler=this.keyDownHandler.bind(this),this.keyUpHandler=this.keyUpHandler.bind(this),document.addEventListener("keydown",this.keyDownHandler,!1),document.addEventListener("keyup",this.keyUpHandler,!1)}var e,i,a;return e=t,(i=[{key:"drawCupid",value:function(t){var e=new Image;e.src=this.imgSrc,t.drawImage(e,this.cupidX,this.cupidY,this.cupidWidth,this.cupidHeight)}},{key:"moveCupid",value:function(t){switch(t){case"none":this.dirX=0;break;case"left":this.dirX=-5,this.imgSrc="src/images/cupid-left.png";break;case"right":this.dirX=5,this.imgSrc="src/images/cupid-right.png";break;case"up":this.dirY=-10;break;case"gravity":this.dirY=4}}},{key:"keyDownHandler",value:function(t){t.preventDefault(),"Right"==t.key||"ArrowRight"==t.key?this.moveCupid("right"):"Left"==t.key||"ArrowLeft"==t.key?this.moveCupid("left"):"Up"!=t.key&&"ArrowUp"!=t.key||this.moveCupid("up")}},{key:"keyUpHandler",value:function(t){t.preventDefault(),"Right"==t.key||"ArrowRight"==t.key||"Left"==t.key||"ArrowLeft"==t.key?this.moveCupid("none"):"Up"!=t.key&&"ArrowUp"!=t.key||this.moveCupid("gravity")}},{key:"newPos",value:function(){this.cupidX+=this.dirX,this.cupidY+=this.dirY,this.detectBorders()}},{key:"detectBorders",value:function(){this.cupidX<-100&&(this.cupidX=600),this.cupidX+this.cupidWidth>this.canvasWidth+100&&(this.cupidX=-50)}}])&&n(e.prototype,i),a&&n(e,a),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=document.createElement("audio"),this.sound.src=e,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=this.play.bind(this)}var e,i,n;return e=t,(i=[{key:"play",value:function(){this.sound.play()}}])&&s(e.prototype,i),n&&s(e,n),t}();function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.orangeWidth=32,this.orangeHeight=27,this.sound=new r("src/sounds/orange.mp3"),this.orangeX=Math.floor(Math.random()*Math.floor(650)),this.orangeY=-15,this.now=0,this.drawOrange=this.drawOrange.bind(this)}var e,i,n;return e=t,(i=[{key:"drawOrange",value:function(t){var e=new Image;e.src="src/images/orange.png",t.drawImage(e,this.orangeX,this.orangeY,this.orangeWidth,this.orangeHeight),this.fall()}},{key:"fall",value:function(){this.orangeY+=4}}])&&h(e.prototype,i),n&&h(e,n),t}();function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.cloudWidth=170,this.cloudHeight=85,this.sound=new r("src/sounds/thunder.mp3"),this.cloudX="",this.dir=Math.random()<.5?"left":"right","left"===this.dir?this.cloudX=800:"right"===this.dir&&(this.cloudX=-200),this.cloudY=Math.floor(Math.random()*Math.floor(400)),this.drawCloud=this.drawCloud.bind(this)}var e,i,n;return e=t,(i=[{key:"drawCloud",value:function(t){var e=new Image;e.src="src/images/cloud.png",t.drawImage(e,this.cloudX,this.cloudY,this.cloudWidth,this.cloudHeight),this.move(this.dir)}},{key:"move",value:function(t){"left"===t?this.cloudX-=2:"right"===t&&(this.cloudX+=2)}}])&&c(e.prototype,i),n&&c(e,n),t}();function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("canvas-background");this.ctx=n.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.heartWidth=35,this.heartHeight=35,this.sound=new r("src/sounds/heart.mp3"),this.heartX=Math.floor(Math.random()*Math.floor(650)),this.heartY=-15,this.now=0,this.drawHeart=this.drawHeart.bind(this)}var e,i,n;return e=t,(i=[{key:"drawHeart",value:function(t){var e=new Image;e.src="src/images/heart.png",t.drawImage(e,this.heartX,this.heartY,this.heartWidth,this.heartHeight),this.fall()}},{key:"fall",value:function(){this.heartY+=6}}])&&d(e.prototype,i),n&&d(e,n),t}();function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.canvasWidth=e.width,this.canvasHeight=e.height,this.cupid=new a(this.canvasWidth,this.canvasHeight),this.playing=!1,this.soundOn=!0,this.highScore=0,this.oranges=[];var i=new o;this.oranges.push(i),this.hearts=[];var n=new l;this.hearts.push(n),this.clouds=[new u,new u],this.frameO=0,this.frameH=0,this.frameC=0,this.frameId=null,this.gameOver=this.gameOver.bind(this),this.gameUpdate=this.gameUpdate.bind(this),this.restartGame=this.restartGame.bind(this),this.endGame=this.endGame.bind(this);var s=document.getElementById("canvas-frame");this.ctxFrame=s.getContext("2d"),this.scoreCount=document.getElementById("score"),this.highScoreCount=document.getElementById("high-score"),this.drawHealthBar=this.drawHealthBar.bind(this),this.drawHealthBar(),this.updateScore=this.updateScore.bind(this),this.updateFrameNav=this.updateFrameNav.bind(this),document.addEventListener("keydown",this.keyHandler(),!1)}var e,i,n;return e=t,(i=[{key:"keyHandler",value:function(){var t=this,e=this.restartGame;return function(i){i.preventDefault(),"Enter"==i.key?(t.playing=!0,e()):"m"==i.key&&(t.soundOn=!t.soundOn)}}},{key:"endGame",value:function(){this.playing=!1,document.getElementById("welcome").classList.add("visible"),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.cupid=new a(this.canvasWidth,this.canvasHeight),this.cupid.drawCupid(this.ctx)}},{key:"restartGame",value:function(){this.frameId&&cancelAnimationFrame(this.frameId),document.getElementById("welcome").classList.remove("visible"),this.cupid.drawCupid(this.cupid.ctx),this.cupid.moveCupid("gravity"),this.gameUpdate(),this.updateFrameNav()}},{key:"gameOver",value:function(){return(this.cupid.cupidY+this.cupid.cupidHeight-30>this.canvasHeight||this.cupid.health<0)&&(this.cupid.score>this.highScore&&(this.highScore=this.cupid.score,this.highScoreCount.innerText="High Score: ".concat(this.highScore)),this.scoreCount.innerText="Score: 0",!0)}},{key:"detectOrangeCollision",value:function(t){var e=(t.orangeX+(t.orangeX+t.orangeWidth))/2,i=(t.orangeY+(t.orangeY+t.orangeHeight))/2,n=this.cupid.cupidY,a=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;if(e>s&&e<r&&i>n&&i<a)return this.soundOn&&t.sound.play(),this.oranges.shift(),this.cupid.score+=1,this.updateScore(),!0;i>this.canvasHeight&&this.oranges.shift()}},{key:"detectHeartCollision",value:function(t){var e=(t.heartX+(t.heartX+t.heartWidth))/2,i=(t.heartY+(t.heartY+t.heartHeight))/2,n=this.cupid.cupidY,a=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;if(e>s&&e<r&&i>n&&i<a)return this.soundOn&&t.sound.play(),this.hearts.shift(),this.cupid.score+=5,this.updateScore(),!0;i>this.canvasHeight&&this.hearts.shift()}},{key:"detectCloudCollision",value:function(t){var e=(t.cloudX+(t.cloudX+t.cloudWidth))/2,i=(t.cloudY+(t.cloudY+t.cloudHeight))/2,n=this.cupid.cupidY,a=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;e>s&&e<r&&i>n&&i<a&&(this.soundOn&&t.sound.play(),this.cupid.health-=1.7),"left"===t.dir&&t.cloudX<-200&&this.clouds.shift()}},{key:"gameUpdate",value:function(){var t=this;!0===this.playing&&(this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.cupid.newPos(),this.cupid.drawCupid(this.ctx),this.frameO+=1,this.frameH+=1,this.frameC+=1,this.oranges.forEach((function(e){e.drawOrange(t.ctx)})),this.hearts.forEach((function(e){e.drawHeart(t.ctx)})),this.clouds.forEach((function(e){e.drawCloud(t.ctx)})),this.frameO>100&&(this.oranges.push(new o),this.frameO=0),this.frameH>800&&(this.hearts.push(new l),this.frameH=0),this.frameC>175&&(this.clouds.push(new u),this.frameC=0),this.oranges.forEach((function(e){t.detectOrangeCollision(e)})),this.hearts.forEach((function(e){t.detectHeartCollision(e)})),this.clouds.forEach((function(e){t.detectCloudCollision(e)})),this.gameOver()&&this.endGame(),this.frameId=requestAnimationFrame(this.gameUpdate))}},{key:"updateScore",value:function(){this.scoreCount.innerText="Score: ".concat(this.cupid.score)}},{key:"drawHealthBar",value:function(){this.ctxFrame.beginPath(),this.ctxFrame.rect(345,10,270,25),this.ctxFrame.lineWidth=2.25,this.ctxFrame.fillStyle="#e84625",this.ctxFrame.fill(),this.ctxFrame.beginPath(),this.ctxFrame.rect(345,10,this.cupid.health,25),this.ctxFrame.fillStyle="#2c9926",this.ctxFrame.fill()}},{key:"updateFrameNav",value:function(){this.drawHealthBar(),requestAnimationFrame(this.updateFrameNav)}}])&&p(e.prototype,i),n&&p(e,n),t}();i(1);new f(document.getElementById("canvas-background"))}]);
//# sourceMappingURL=main.js.map