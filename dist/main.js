!function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var n=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=document.getElementById("canvas-background");this.ctx=a.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.cupidWidth=150,this.cupidHeight=95,this.cupidX=300,this.cupidY=20,this.dirX=0,this.dirY=0,this.health=270,this.score=0,this.imgSrc="src/images/cupid-left.png",this.drawCupid=this.drawCupid.bind(this),this.moveCupid=this.moveCupid.bind(this),this.keyDownHandler=this.keyDownHandler.bind(this),this.keyUpHandler=this.keyUpHandler.bind(this),document.addEventListener("keydown",this.keyDownHandler,!1),document.addEventListener("keyup",this.keyUpHandler,!1)}var e,i,n;return e=t,(i=[{key:"drawCupid",value:function(t){var e=new Image;e.src=this.imgSrc,t.drawImage(e,this.cupidX,this.cupidY,this.cupidWidth,this.cupidHeight)}},{key:"moveCupid",value:function(t){switch(t){case"none":this.dirX=0;break;case"left":this.dirX=-5,this.imgSrc="src/images/cupid-left.png";break;case"right":this.dirX=5,this.imgSrc="src/images/cupid-right.png";break;case"up":this.dirY=-10;break;case"gravity":this.dirY=4}}},{key:"keyDownHandler",value:function(t){t.preventDefault(),"Right"==t.key||"ArrowRight"==t.key?this.moveCupid("right"):"Left"==t.key||"ArrowLeft"==t.key?this.moveCupid("left"):"Up"!=t.key&&"ArrowUp"!=t.key||this.moveCupid("up")}},{key:"keyUpHandler",value:function(t){t.preventDefault(),"Right"==t.key||"ArrowRight"==t.key||"Left"==t.key||"ArrowLeft"==t.key?this.moveCupid("none"):"Up"!=t.key&&"ArrowUp"!=t.key||this.moveCupid("gravity")}},{key:"newPos",value:function(){this.cupidX+=this.dirX,this.cupidY+=this.dirY,this.detectBorders()}},{key:"detectBorders",value:function(){this.cupidX<-100&&(this.cupidX=700),this.cupidX+this.cupidWidth>this.canvasWidth+100&&(this.cupidX=-100)}}])&&a(e.prototype,i),n&&a(e,n),t}();function s(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sound=document.createElement("audio"),this.sound.src=e,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=this.play.bind(this)}var e,i,a;return e=t,(i=[{key:"play",value:function(){this.sound.play()}}])&&s(e.prototype,i),a&&s(e,a),t}();function h(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=document.getElementById("canvas-background");this.ctx=a.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.orangeWidth=35,this.orangeHeight=30,this.sound=new r("src/sounds/orange.mp3"),this.orangeX=Math.floor(Math.random()*Math.floor(720)),this.orangeY=-15,this.now=0,this.drawOrange=this.drawOrange.bind(this)}var e,i,a;return e=t,(i=[{key:"drawOrange",value:function(t){var e=new Image;e.src="src/images/orange.png",t.drawImage(e,this.orangeX,this.orangeY,this.orangeWidth,this.orangeHeight),this.fall()}},{key:"fall",value:function(){this.orangeY+=5}}])&&h(e.prototype,i),a&&h(e,a),t}();function o(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var d=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=document.getElementById("canvas-background");this.ctx=a.getContext("2d"),this.canvasWidth=e,this.canvasHeight=i,this.cloudWidth=200,this.cloudHeight=100,this.sound=new r("src/sounds/thunder.mp3"),this.cloudX="",this.dir=Math.random()<.5?"left":"right","left"===this.dir?this.cloudX=800:"right"===this.dir&&(this.cloudX=-200),this.cloudY=Math.floor(Math.random()*Math.floor(400)),this.drawCloud=this.drawCloud.bind(this)}var e,i,a;return e=t,(i=[{key:"drawCloud",value:function(t){var e=new Image;e.src="src/images/cloud.png",t.drawImage(e,this.cloudX,this.cloudY,this.cloudWidth,this.cloudHeight),this.move(this.dir)}},{key:"move",value:function(t){"left"===t?this.cloudX-=2:"right"===t&&(this.cloudX+=2)}}])&&o(e.prototype,i),a&&o(e,a),t}();function u(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.canvasWidth=e.width,this.canvasHeight=e.height,this.cupid=new n(this.canvasWidth,this.canvasHeight),this.playing=!1,this.soundOn=!0,this.highScore=0,this.oranges=[];var i=new c;this.oranges.push(i),this.clouds=[new d,new d],this.frameO=0,this.frameC=0,this.frameId=null,this.gameOver=this.gameOver.bind(this),this.gameUpdate=this.gameUpdate.bind(this),this.restartGame=this.restartGame.bind(this),this.endGame=this.endGame.bind(this);var a=document.getElementById("canvas-frame");this.ctxFrame=a.getContext("2d"),this.drawFrameNav=this.drawFrameNav.bind(this),this.drawHealthBar=this.drawHealthBar.bind(this),this.updateFrameNav=this.updateFrameNav.bind(this),document.addEventListener("keydown",this.keyHandler(),!1)}var e,i,a;return e=t,(i=[{key:"keyHandler",value:function(){var t=this,e=this.restartGame;return function(i){i.preventDefault(),"Enter"==i.key?(t.playing=!0,e()):"m"==i.key&&(t.soundOn=!t.soundOn)}}},{key:"endGame",value:function(){this.playing=!1,document.getElementById("instructions").classList.add("visible"),document.getElementById("canvas-background").classList.add("fade"),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.cupid=new n(this.canvasWidth,this.canvasHeight),this.cupid.drawCupid(this.ctx)}},{key:"restartGame",value:function(){this.frameId&&cancelAnimationFrame(this.frameId),document.getElementById("instructions").classList.remove("visible"),document.getElementById("canvas-background").classList.remove("fade"),this.cupid.drawCupid(this.cupid.ctx),this.cupid.moveCupid("gravity"),this.gameUpdate(),this.updateFrameNav()}},{key:"gameOver",value:function(){return(this.cupid.cupidY+this.cupid.cupidHeight-30>this.canvasHeight||this.cupid.health<0)&&(this.cupid.score>this.highScore&&(this.highScore=this.cupid.score),!0)}},{key:"detectOrangeCollision",value:function(t){var e=(t.orangeX+(t.orangeX+t.orangeWidth))/2,i=(t.orangeY+(t.orangeY+t.orangeHeight))/2,a=this.cupid.cupidY,n=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;if(e>s&&e<r&&i>a&&i<n)return this.soundOn&&t.sound.play(),this.oranges.shift(),this.cupid.score+=1,!0;i>this.canvasHeight&&this.oranges.shift()}},{key:"detectCloudCollision",value:function(t){var e=(t.cloudX+(t.cloudX+t.cloudWidth))/2,i=(t.cloudY+(t.cloudY+t.cloudHeight))/2,a=this.cupid.cupidY,n=this.cupid.cupidY+this.cupid.cupidHeight,s=this.cupid.cupidX,r=this.cupid.cupidX+this.cupid.cupidWidth;e>s&&e<r&&i>a&&i<n&&(this.soundOn&&t.sound.play(),this.cupid.health-=1.7),"left"===t.dir&&t.cloudX<-200&&this.clouds.shift()}},{key:"gameUpdate",value:function(){var t=this;!0===this.playing&&(this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.cupid.newPos(),this.cupid.drawCupid(this.ctx),this.frameO+=1,this.frameC+=1,this.oranges.forEach((function(e){e.drawOrange(t.ctx)})),this.clouds.forEach((function(e){e.drawCloud(t.ctx)})),this.frameO>100&&(this.oranges.push(new c),this.frameO=0),this.frameC>175&&(this.clouds.push(new d),this.frameC=0),this.oranges.forEach((function(e){t.detectOrangeCollision(e)})),this.clouds.forEach((function(e){t.detectCloudCollision(e)})),this.gameOver()&&(console.log("Game Over! Play again."),this.endGame()),this.frameId=requestAnimationFrame(this.gameUpdate))}},{key:"drawFrameNav",value:function(){this.ctxFrame.clearRect(0,0,900,50),this.ctxFrame.fillStyle="White",this.ctxFrame.font="bolder 38px Arial",this.ctxFrame.lineWidth=2.5,this.ctxFrame.strokeStyle="Black",this.ctxFrame.fillText("Score: ".concat(this.cupid.score," | Health: "),10,35),this.ctxFrame.strokeText("Score: ".concat(this.cupid.score," | Health: "),10,35),this.ctxFrame.fillText("High Score: ".concat(this.highScore),635,32),this.ctxFrame.strokeText("High Score: ".concat(this.highScore),635,32)}},{key:"drawHealthBar",value:function(){this.ctxFrame.beginPath(),this.ctxFrame.rect(345,10,270,25),this.ctxFrame.strokeStyle="#000000",this.ctxFrame.strokeRect(345,10,270,25),this.ctxFrame.lineWidth=2.25,this.ctxFrame.fillStyle="#e84625",this.ctxFrame.fill(),this.ctxFrame.beginPath(),this.ctxFrame.rect(345,10,this.cupid.health,25),this.ctxFrame.fillStyle="#2c9926",this.ctxFrame.fill()}},{key:"updateFrameNav",value:function(){this.drawFrameNav(),this.drawHealthBar(),requestAnimationFrame(this.updateFrameNav)}}])&&u(e.prototype,i),a&&u(e,a),t}();i(1);new l(document.getElementById("canvas-background"))}]);
//# sourceMappingURL=main.js.map